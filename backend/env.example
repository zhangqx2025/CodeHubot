# ==========================================
# CodeHubot 后端服务环境变量配置
# 使用前请复制此文件为 .env 并修改配置
# ==========================================

# ==================== 数据库配置 ====================
# 数据库主机地址
DB_HOST=localhost

# 数据库端口（默认 3306）
DB_PORT=3306

# 数据库用户名
DB_USER=aiot_user

# 数据库密码
DB_PASSWORD=your_secure_password

# 数据库名称
DB_NAME=aiot_admin

# ==================== Redis配置 ====================
# Redis连接URL（可选，用于缓存）
REDIS_URL=redis://localhost:6379

# ==================== 服务器配置 ====================
# 服务器基础URL，用于生成固件下载链接等
SERVER_BASE_URL=http://localhost:8000

# 固件下载基础URL（可选，默认使用SERVER_BASE_URL）
# FIRMWARE_BASE_URL=http://your-server-ip:8000

# ==================== JWT配置 ====================
# JWT密钥（必须，至少32个字符）
# 生成方法：python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-very-long-secret-key-at-least-32-characters-long

# JWT算法
ALGORITHM=HS256

# Access Token有效期（分钟）
# 建议：开发环境 120-240分钟，生产环境 30-60分钟
ACCESS_TOKEN_EXPIRE_MINUTES=120

# Refresh Token有效期（分钟）
# 建议：开发环境 7天(10080分钟)，生产环境 1-3天
REFRESH_TOKEN_EXPIRE_MINUTES=10080

# ==================== MQTT配置 ====================
# MQTT服务器地址（必须配置）
MQTT_BROKER_HOST=localhost

# MQTT服务器端口
MQTT_BROKER_PORT=1883

# MQTT用户名（如果MQTT允许匿名访问，可以留空）
MQTT_USERNAME=

# MQTT密码（如果MQTT允许匿名访问，可以留空）
MQTT_PASSWORD=

# 如果MQTT需要认证，填写以下信息：
# MQTT_USERNAME=mqtt_user
# MQTT_PASSWORD=your_mqtt_password

# ==================== 邮件服务配置 ====================
# 邮件服务配置（可选）
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_FROM=your-email@gmail.com
MAIL_PORT=587
MAIL_SERVER=smtp.gmail.com
MAIL_TLS=true
MAIL_SSL=false
USE_CREDENTIALS=true
VALIDATE_CERTS=true

# ==================== 环境配置 ====================
# 运行环境：development, production, testing
ENVIRONMENT=development

# 日志级别：DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ==================== 高级配置（可选）====================
# 以下配置有默认值，通常不需要修改

# 交互日志配置
# LOG_BATCH_SIZE=1000
# LOG_FLUSH_INTERVAL=5.0
# LOG_RETENTION_DAYS=90
# LOG_COMPRESSION_ENABLED=true
# LOG_ARCHIVE_ENABLED=true

# 缓存配置
# CACHE_RECENT_LOGS_TTL=300
# CACHE_STATS_TTL=3600
# CACHE_DEVICE_STATUS_TTL=60

# 设备离线超时配置（分钟）
# DEVICE_OFFLINE_TIMEOUT_MINUTES=5

# 性能配置
# MAX_CONCURRENT_WRITES=10
# QUERY_TIMEOUT=30
# CONNECTION_POOL_SIZE=20
